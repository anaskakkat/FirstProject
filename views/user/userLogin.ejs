<style>
    /* Style for Reset Password Modal */
    #resetPasswordModal .modal-dialog {
        max-width: 400px;
        margin: 30px auto;
    }

    #resetPasswordModal .modal-content {
        border-radius: 0;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    #resetPasswordModal .modal-header {
        background-color: #F67777;
        color: #fff;
        border-bottom: 1px solid #ddd;
    }

    #resetPasswordModal .modal-title {
        font-size: 18px;
        font-family: 'Arial', sans-serif;
    }

    #resetPasswordModal .modal-body {
        padding: 20px;
    }

    #resetPasswordModal input[type="text"] {
        width: 100%;
        padding: 10px;
        margin: 10px 0px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-family: 'Arial', sans-serif;
    }

    #resetPasswordModal button {
        background-color: #F67777;
        color: #fff;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-family: 'Arial', sans-serif;
    }

    #resetPasswordModal button:hover {
        background-color: #E85C5C;
    }

    /* Style for Forgot Password Link */
    .forgot-password-link {
        color: #F67777;
        font-weight: bold;
        text-decoration: none;
        font-family: 'Arial', sans-serif;
    }

    .forgot-password-link:hover {
        text-decoration: underline;
    }
</style>

<%- include('./layouts/header') %>

    <!--banner-->
    <div class="banner-top">
        <div class="container">
            <h1>Login</h1>
            <em></em>
            <h2><a href="/">Home</a><label>/</label>Login</h2>
        </div>
    </div>
    <!--login-->


    <div class="container">
        <div class="login">


            <form action="" method="post">
                <div class="col-md-6 login-do">
                    <div class="login-mail">
                        <input type="text" placeholder="Email" required="" name="loginEmail"
                            value="" pattern="[A-Za-z0-9]*[@](gmail)*[\.](com)$">
                        <i class="glyphicon glyphicon-envelope"></i>
                        <div id="email-error" class="error-msg" style="color: red;"></div>

                    </div>
                    <div class="login-mail">
                        <input type="password" placeholder="Password" required="" name="loginPassword" value=""
                            pattern="^[A-Za-z0-9][A-Za-z0-9_ ]*$">
                        <i class="glyphicon glyphicon-lock"></i>
                        <div id="password-error" class="error-msg" style="color: red;"></div>

                    </div>

                    <% if (messages.length> 0) { %>
                        <div style="color: red;">
                            <%= messages[0] %>
                        </div>
                        <% } %>

                            <label class="hvr-skew-backward" style="margin-bottom: 4px;">
                                <input type="submit" value="login" onclick="validateForm()">
                            </label>

                            <div class="login-forgot-password">
                                <a href="/forgotPassword"
                                    style="text-decoration: none; font-weight: normal; color: rgb(16, 45, 71); transition: color 0.3s ease;"
                                    onmouseover="this.style.color='#f85555';"
                                    onmouseout="this.style.color='rgb(16, 45, 71)';" class="">
                                    Forgot Password?
                                </a>

                            </div>
                </div>
                <div class="col-md-6 login-right">
                    <h3>Completely Free Account</h3>
                    <p>Welcome to our Shop! Creating an account is easy and completely free. <br> Gain access to
                        exclusive features and content by registering today.</p>

                    <a href="/registration" class=" hvr-skew-backward">Register</a>

                </div>

                <div class="clearfix"> </div>

            </form>
        </div>

        <!-- Reset Password Modal -->
        <!-- Reset Password Modal -->



    </div>

    <!--//login-->


    <script>

        function validateForm() {
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;
            var emailError = document.getElementById("email-error");
            var passwordError = document.getElementById("password-error");

            emailError.textContent = "";
            passwordError.textContent = "";

            var emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailPattern.test(email)) {
                emailError.textContent = "Invalid email address.";
                event.preventDefault();
            }

            var passwordPattern = /^[A-Za-z0-9_]*$/;
            if (!passwordPattern.test(password) || password.length < 6) {
                passwordError.textContent = "Password must be at least 6 characters long and contain only alphanumeric characters and underscores.";
                event.preventDefault(); // Prevent form submission
            }
        }

    </script>

    <%- include('./layouts/footer') %>



        <!-- JavaScript for handling reset password -->
        <script>
            // reset password
            function sendResetPasswordEmail() {
                var resetEmail = document.getElementById('resetEmail').value;
                var resetMessageElement = document.getElementById('resetMessage');

                // Validate email format
                let emailPattern = /^\s*[A-Za-z0-9]*[@](gmail)*[\.](com)\s*$/;

                if (!emailPattern.test(resetEmail)) {
                    resetMessageElement.innerHTML = " Please enter a valid email address.";
                    resetMessageElement.style.color = "red";
                    return;
                }


            }
        </script>