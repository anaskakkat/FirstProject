
<%- include('./layouts/header') %>




    <section class="bg-light py-5 " style="margin: 20px;">
        <div class="container">
            <div class="row">
                <div class="col-md-12  mb-4">
                    <!-- Checkout -->
                    <form id="checkoutForm" action="/addAddress" method="post">
                        <div class="card col-md-7 shadow-0 border">

                            <div class="p-4">
                                <div class="row">
                                    <br>
                                    <h5 class="card-title mb-3">Delivery adress:</h5>
                                    <!-- fill address  -->
                                    <br>
                                    <div id="addAddress" class="col-md-12 ">                  
                                        <!-- <p><span style="color: red;">* marked sections are mandatory</span></p> -->
                                        <div class="col-md-12 mb-3">
                                            <p class="mb-0">Full Name <span style="color: red;">*</span></p>
                                            <div class="form-outline">
                                                <input name="fullName" type="text" id="fullName" placeholder="Type here"
                                                    class="form-control"  />
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <p class="mb-0">Phone<span style="color: red;">*</span></p>
                                            <div class="form-outline">
                                                <input name="phoneNUmber" type="tel" id="phoneNUmber" class="form-control"  />
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <p class="mb-0">Email</p>
                                            <div class="form-outline">
                                                <input type="email" id="email" placeholder="example@gmail.com"
                                                    class="form-control" name="email" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <p class="mb-0">Address<span style="color: red;">*</span></p>
                                            <div class="form-outline">
                                                <input type="text" id="house" placeholder="Type here"
                                                    class="form-control" name="house"  />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <p class="mb-0">Landmark</p>
                                            <div class="form-outline">
                                                <input type="text" id="landMark" placeholder="Type here"
                                                    class="form-control" name="landMark" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <p class="mb-0">City<span style="color: red;">*</span></p>
                                            <div class="form-outline">
                                                <input type="text" id="city" placeholder="Type here"
                                                    class="form-control" name="city" />
                                            </div>
                                        </div>
                                        <!-- <div class="col-md-6">
                                            <p class="mb-0">District</p>
                                            <div class="form-outline">
                                                <input type="district" id="landMark" placeholder="Type here"
                                                    class="form-control" name="district" />
                                            </div>
                                        </div> -->
                                        <div class="col-md-6">
                                            <p class="mb-0">State</p>
                                            <div class="form-outline">
                                                <input type="state" id="state" placeholder="Type here"
                                                    class="form-control" name="state" />
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <p class="mb-0">PIN code<span style="color: red;">*</span></p>
                                            <div class="form-outline">
                                                <input type="tel" id="pincode" class="form-control" name="pincode" />
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ..................  -->
                                    <div class="col-md-12 " style="margin-top: 2vh;">
                                        <button class="btn btn-primary">Save</button>
                                    </div>
                                    <div class="col-md-12 " style="margin-top: 2vh;">
                                        <span id="savedAddress-btn" class="btn btn-primary">Saved Addresses</span>
                                    </div>
                                    <!-- select adressese -->
                                    <div id="savedAddress" class="col-md-12" hidden>
                                        <div class="row mb-3">
                                            

                                                <div class="col-md-12 mb-3">
                                                    <div class="form-check h-100 border rounded-3">
                                                        <div class="p-3">
                                                            <input class="form-check-input selectAddress" type="radio"
                                                                name="selectedAddress" id="selectedAddress" name="selectedAddress" value="address " />
                                                            <label class="form-check-label" for="flexRadioDefault1">
                                                             addresstitle <br />
                                                                    <small class="text-muted">
                                                                         address.fullName                                                                                                                                                                                                                                                                                                            
                                                                    </small>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                                                          
                                        </div>
                                    </div>
                                    <script>
                                        $(document).ready(function () {
                                            $('#savedAddress-btn').click(function () {
                                                $('#savedAddress').toggle();
                                                $('#addAddress').toggle();

                                                if(!formHasData()){
                                                    event.preventDefault
                                                }
                                            })
                                        $('#checkoutForm').submit(function(event){
                                            console.log('form submitted')
                                            if(!formHasData()){
                                                event.preventDefault();
                                                alert('Please specify an address and payment method')
                                            }
                                        })

                                        // function formHasData(){
                                        //     console.log('formaData checking')
                                        //     const addAddres = $('#fullName').val().trim() !== '' && $('#phoneNUmber').val().trim() !== '' && 
                                        //                       $('#house').val().trim() !== '' && $('#city').val().trim() !== '' &&
                                        //                       $('#pincode').val().trim() !== '' ;
                                        //     const savedAddress = $('.selectAddress:checked').length !== 0 ;
                                        //     const paymentMethod = $('.paymentOptions:checked').length !== 0;
                                        //     console.log(addAddres , savedAddress)
                                        //     return (addAddres || savedAddress) && paymentMethod;
                                        // }
                                        })
                                    </script>
                                </div>

                                <hr class="my-4" />
                                <h5 class="card-title mb-3">Add delivery instructions</h5>
                                <div class="row mb-3">
                                    <div class="mb-3 col-md-12">
                                       
                                        <div class="form-outline">
                                            <textarea name="deliveryInstruction" class="form-control" id="textAreaExample1" rows="2"></textarea>
                                        </div>
                                    </div>

                                </div>
                            </div>
                          
                        </div>
                          <!-- Checkout -->
                        <div class=" col-md-5  d-flex justify-content-center justify-content-lg-end">
                            <div class="ms-lg-4 mt-4 mt-lg-0" style="max-width: 320px;">
                                <h6 class="mb-3 " style="font-weight: bolder; font-size: larger;">Summary</h6>
                                <hr />
                                <div class="d-flex col-md-12 justify-content-between">
                                    <p class="mb-2">Total price:</p>
                                    <input type="hidden" value="totalPrice" name="totalPrice">
                                    <p class="mb-2 fw-bold">&#x20B9;  totalPrice</p>
                                </div>

                                <div class="input-group mt-3 mb-4">
                                    <input type="text" class="form-control border" name="" placeholder="Promo code" />
                                    <button class="btn btn-light text-primary border">Apply</button>
                                </div>
                                <div>
                                    <h5>Choose a payment method</h5>
                                    
                                      <div class="custom-control custom-radio">
                                        <input type="radio" name="paymentMethod" value="COD" id="paymentMethod" class="paymentOptions custom-control-input" >
                                        <label class="custom-control-label" for="customRadioDisabled2">Cash on Delivery</label>
                                      </div>
                                      <div class="custom-control custom-radio">
                                        <input type="radio" name="paymentMethod" value="UPI" id="paymentMethod" class="paymentOptions custom-control-input" >
                                        <label class="custom-control-label" for="customRadioDisabled2">UPI</label>
                                      </div>
                                      <div class="custom-control custom-radio">
                                        <input type="radio" name="paymentMethod" value="Card payment" id="paymentMethod" class="paymentOptions custom-control-input" >
                                        <label class="custom-control-label" for="customRadioDisabled2">Credit card/Debit card</label>
                                      </div>
                                </div>
                                <hr />
                                <h6 class="text-dark my-4">Items:</h6>
                            
                                <div class="d-flex col-md-12 align-items-center mb-4">
                                    <div class="me-3 col-md-4 position-relative">
                                        <img src=" produc"
                                            style="height: 96px; width: 96x;" class="img-sm rounded border" />
                                    </div>
                                    <div class="col-8">
                                        <a  class="nav-link">productName</a>
                                        <div class="price ">&#x20B9; product[i].price</div>
                                        <div class="">Quantity:  productQty </div>
                                    </div>                                   
                                </div>
                                <input type="hidden" name="productId" id="productId"  value= "product[i]._id ">
                                <input type="hidden" name="productQty" id="productQty" value=" productQty">
                                <input type="hidden" name="productPrice" id="productPrice" value="product[i].pric"> 
                             
                               
                                <div class="float-end col-md-6" style="margin-top: 2vh;">
                                    <input type="submit" class="btn btn-success " value="Place Order">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
    </section>

    <%- include('./layouts/footer') %>

        <script src="js/simpleCart.min.js"> </script>

        <script src="js/bootstrap.min.js"></script>
        </body>

        </html>